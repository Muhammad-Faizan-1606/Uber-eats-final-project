{% extends "base.html" %}

{% block content %}
<section class="ue-hero">
    <div class="ue-hero-left">
        <h1>Your Uber Eats complaints, handled like a support pro.</h1>
        <p class="ue-hero-sub">
            Paste your order issue, and our AI filters & classifies it instantly so support can act faster.
        </p>

        <form class="ue-search-form" method="POST" action="javascript:void(0);">
            <textarea
                id="hero-complaint-input"
                class="ue-textarea"
                placeholder="Describe your issueâ€¦ e.g. 'Rider delivered the food 50 minutes late and one burger was missing.'"
            ></textarea>
            <button type="button" class="ue-btn-primary" id="hero-send-to-agent">
                Classify with AI Agent
            </button>
        </form>

        <div class="ue-hero-tags">
            <span>Late Delivery</span>
            <span>Missing Items</span>
            <span>Cold Food</span>
            <span>Wrong Order</span>
        </div>
    </div>

    <div class="ue-hero-right">
        <div class="ue-card ue-card-metric">
            <h3>Smart Complaint Filter</h3>
            <p>Automatically tags issues like delivery delay, food quality, missing items and refund requests.</p>
            <ul>
                <li>âš¡ Faster triage</li>
                <li>ðŸ“‚ Clean categories</li>
                <li>ðŸ§  Model-powered decisions</li>
            </ul>
        </div>

        <div class="ue-card ue-card-orders">
            <h3>Recent Orders</h3>
            <div class="ue-order">
                <div>
                    <div class="ue-order-title">McDonald's â€“ Combo Meal</div>
                    <div class="ue-order-meta">Delivered â€¢ 32 min</div>
                </div>
                <button class="ue-order-btn">Complain</button>
            </div>
            <div class="ue-order">
                <div>
                    <div class="ue-order-title">Dominoâ€™s â€“ Large Pizza</div>
                    <div class="ue-order-meta">Delivered â€¢ 48 min</div>
                </div>
                <button class="ue-order-btn">Complain</button>
            </div>
            <div class="ue-order">
                <div>
                    <div class="ue-order-title">KFC â€“ Zinger Duo</div>
                    <div class="ue-order-meta">Delivered â€¢ 41 min</div>
                </div>
                <button class="ue-order-btn">Complain</button>
            </div>
        </div>
    </div>
</section>

<section class="ue-grid">
    <div class="ue-grid-title-row">
        <h2>Common complaint categories</h2>
        <span class="ue-grid-sub">Optimised for Uber Eatsâ€“style orders</span>
    </div>

    <div class="ue-grid-cards">
        <div class="ue-card ue-card-small">
            <h3>Delivery Issues</h3>
            <p>Late rider, address problems, wrong handover, unreachable rider.</p>
        </div>
        <div class="ue-card ue-card-small">
            <h3>Food Quality</h3>
            <p>Cold food, stale fries, soggy items, poor packaging, leaking drinks.</p>
        </div>
        <div class="ue-card ue-card-small">
            <h3>Missing / Wrong Items</h3>
            <p>Forgotten add-ons, missing drinks, swapped items, wrong size.</p>
        </div>
        <div class="ue-card ue-card-small">
            <h3>Payment & Refunds</h3>
            <p>Double charge, failed refunds, promo code issues, tips or fees disputes.</p>
        </div>
    </div>
</section>

<script>
    // Send the hero complaint text directly into the agent
    const heroButton = document.getElementById("hero-send-to-agent");
    const heroInput = document.getElementById("hero-complaint-input");
    const agentFab = document.getElementById("agent-fab");
    const agentWidget = document.getElementById("agent-widget");
    const agentInput = document.getElementById("agent-input");

    heroButton.addEventListener("click", () => {
        const text = heroInput.value.trim();
        if (!text) return;

        // Open widget
        agentWidget.classList.add("agent-open");
        agentFab.classList.add("agent-hidden");

        // Push text into agent input and trigger Enter
        agentInput.value = text;
        const submitEvent = new Event("submit");
        document.getElementById("agent-form").dispatchEvent(submitEvent);
    });
</script>
{% endblock %}
